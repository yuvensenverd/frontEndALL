(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{164:function(e,t,a){e.exports=a(388)},169:function(e,t,a){},171:function(e,t,a){},226:function(e,t,a){},388:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(42),s=a.n(l);a(169),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(170);var o=a(15),c=a(13),i=a(17),m=a(16),u=a(18),d=(a(171),a(9)),p=a(410),E=a(411),h=a(412),f=a(413),g=a(414),b=a(431),v=a(432),N=a(415),y=a(416),S=a(417),I=a(418),O=a(33),R=a.n(O),_=a(14),D=a(19),A=a(7),T=a.n(A),U=function(e,t){return{type:"USER",payload:{username:e,saldo:t}}},C=function(e,t){return{type:"ADMIN",payload:{username:e,saldo:t}}},k=function(e){return{type:"TRANSAKSI",payload:e}},w=function(e){return{type:"UPDATE",payload:e}},x=a(430),j=a(407),M=a(408),G=a(409),L=a(34),P=a(35),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).componentDidUpdate=function(){},a.componentDidMount=function(){},a.closeModal=function(){a.setState({modalOpen:!1})},a.onClickTopUp=function(){var e=parseInt(a.refs.reftopup.value);e+=a.props.saldouser,console.log(e),T.a.get("http://localhost:2000/users?username="+a.props.currentUser).then(function(t){console.log(t.data),T.a.patch("http://localhost:2000/users/"+t.data[0].id,{saldo:e}).then(function(t){a.setState({statesaldo:e}),a.props.Transaksi(parseInt(a.refs.reftopup.value)),window.alert("Top Up Berhasil"),a.closeModal()})}).catch(function(e){})},a.toggle=a.toggle.bind(Object(d.a)(a)),a.state={isOpen:!1,modalOpen:!1,statesaldo:a.props.saldouser,cartnum:0},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(x.a,{isOpen:this.state.modalOpen,toggle:this.closeModal,size:"lg",style:{maxWidth:"800px",width:"80%"}},r.a.createElement(j.a,null,"Top Up Saldo"),r.a.createElement(M.a,null,r.a.createElement("div",null," Jumlah Saldo "),r.a.createElement("input",{type:"text",className:"form-control mb-4",placeholder:"saldo",value:this.props.saldouser,disabled:!0}),r.a.createElement("input",{type:"number",ref:"reftopup",className:"form-control mb-2",placeholder:"Jumlah Top Up"}),r.a.createElement("p",{id:"warningbutton",style:{color:"red"}}," ")),r.a.createElement(G.a,null,r.a.createElement("input",{type:"button",value:"TOP UP",className:"btn btn-success ",onClick:function(){return e.onClickTopUp()}}),r.a.createElement("input",{type:"button",value:"CANCEL",className:"btn btn-danger",onClick:function(){return e.closeModal()}}))),r.a.createElement(p.a,{className:"navbarheader",expand:"md",style:{height:"45px"}},r.a.createElement(_.b,{to:"/",className:"headername"},r.a.createElement(E.a,{className:"headername",style:{color:"#ff4422",fontSize:"20px",fontWeight:"bolder"}},"Home")),r.a.createElement(h.a,{onClick:this.toggle}),r.a.createElement(f.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(g.a,{className:"ml-auto ",navbar:!0},r.a.createElement(b.a,{className:"headername mr-4",nav:!0,inNavbar:!0},r.a.createElement(v.a,{className:"headername",nav:!0,caret:!0},""!==this.props.currentUser&&!0===this.props.IS_LOGGED_IN?"Welcome, "+this.props.currentUser:!1===this.props.IS_LOGGED_IN?"You are currently not Logged in":null),r.a.createElement(N.a,{style:{backgroundColor:"lightgrey"},right:!0},r.a.createElement(y.a,null,""!==this.props.currentUser&&!0===this.props.IS_LOGGED_IN?r.a.createElement("div",null,r.a.createElement(y.a,{className:"headername"},r.a.createElement(_.b,{to:"/"},r.a.createElement("p",{onClick:function(){return e.props.UserLogOut()}},"Logout"))),r.a.createElement(y.a,{className:"headername"},r.a.createElement(_.b,{to:"/usersetting"},r.a.createElement("p",null,"Change Password")))):!1===this.props.IS_LOGGED_IN?r.a.createElement("div",null,r.a.createElement(y.a,{className:"headername"},r.a.createElement(_.b,{to:"/pages/register"},"Register")),r.a.createElement(y.a,{className:"headername"},r.a.createElement(_.b,{to:"/pages/loginPage"},"Login"))):null))),!0===this.props.IS_ADMIN?r.a.createElement("div",{className:"headername  justify-content-center pt-2"},r.a.createElement(_.b,{to:"/manage",className:"headername mr-3"},"MANAGE")):!1===this.props.IS_ADMIN?r.a.createElement("div",null):null,!1===this.props.IS_LOGGED_IN?r.a.createElement("div",{className:"row headername"},r.a.createElement(S.a,{className:"pl-3"},r.a.createElement(_.b,{to:"/pages/loginPage"},r.a.createElement(I.a,{className:"headername",style:{color:"white",fontWeight:"bolder"}},"LOGIN"))),r.a.createElement(S.a,{className:"pl-3"},r.a.createElement(_.b,{to:"/pages/register"},r.a.createElement(I.a,{className:"headername",style:{color:"white",fontWeight:"bolder"}},"REGISTER")))):!0===this.props.IS_LOGGED_IN?r.a.createElement("div",null):null,!1===this.props.IS_LOGGED_IN?null:r.a.createElement("div",{className:"headername  justify-content-center "},r.a.createElement(b.a,{className:"headername ",nav:!0,inNavbar:!0},r.a.createElement(v.a,{className:"headername",nav:!0,caret:!0},"Saldo : Rp. "+R()(this.props.saldouser).format(0,0)),r.a.createElement(N.a,{style:{backgroundColor:"lightgrey"},right:!0},r.a.createElement(y.a,{className:"headername filtercss",style:{color:"black"}},r.a.createElement("p",{onClick:function(){return e.setState({modalOpen:!0})}},"Top Up Saldo")),r.a.createElement(y.a,{className:"headername filtercss"},r.a.createElement(_.b,{to:"/history",style:{color:"black"}},"History"))))),!1===this.props.IS_LOGGED_IN?null:r.a.createElement("div",{className:"headername justify-content-center pt-2"},r.a.createElement(_.b,{to:"/pages/transaction",className:"headername mr-3"},r.a.createElement(L.a,{className:"Booked",size:"2x",icon:P.c,style:{color:"#c02c3a"}}),r.a.createElement("div",{className:"cartnum"},this.props.cartlength)))))))}}]),t}(r.a.Component),W=Object(D.b)(function(e){return{currentUser:e.CURRENT_USER_DATA.currentUser,IS_ADMIN:e.CURRENT_USER_DATA.IS_ADMIN,IS_LOGGED_IN:e.CURRENT_USER_DATA.IS_LOGGED_IN,saldouser:e.CURRENT_USER_DATA.saldo,cartlength:e.CURRENT_USER_DATA.cartlength}},{UserLogOut:function(){return{type:"LOGOUT"}},Transaksi:k,updateCart:w})(B),z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={data:[],currentMovie:null,filtertext:""},a.setCurrentMovie=function(e){a.setState({currentMovie:e}),console.log("Current Movie is "+a.state.currentMovie)},a.onFilterChange=function(e){a.setState({filtertext:e})},a.getDataMovies=function(){T.a.get("http://localhost:2000/movies").then(function(e){a.setState({data:e.data})}).catch(function(e){console.log(e)})},a.printMovieData=function(){return a.state.data.filter(function(e){return-1!==e.title.toLowerCase().indexOf(a.state.filtertext.toLowerCase())}).map(function(e){return r.a.createElement("div",{className:"col-md-3 mycard mr-4 ml-4 mb-3 mt-3"},r.a.createElement("img",{src:e.image,alt:"MovieImage",width:"100%",height:"422px"}),r.a.createElement("div",{className:"mycardtext"},r.a.createElement("div",{className:"mb-2"}," ",e.title," "),r.a.createElement("div",{className:"mb-3",style:{fontSize:"15px",fontWeight:"bold"}}," ENGLISH "),r.a.createElement("p",null," ",r.a.createElement("input",{type:"button",style:{fontSize:"15px",fontWeight:"bold",marginBottom:"4px"},className:"buttongenre",value:e.genre}))),r.a.createElement(_.b,{to:"/moviedetail?id="+e.id},r.a.createElement("p",null,r.a.createElement("input",{type:"button",style:{height:"45px",fontWeight:"bolder",fontSize:"18px",backgroundColor:"#c02c3a",color:"white"},className:"btn btn-block",value:"DETAILS",onClick:function(){return a.setCurrentMovie(e.id)}}))))})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getDataMovies()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"mycontainer pt-5"},r.a.createElement("center",null,r.a.createElement("div",{className:"d-flex flex-row justify-content-center"},r.a.createElement("div",null,r.a.createElement("input",{type:"text",ref:"filterbox",onChange:function(){return e.onFilterChange(e.refs.filterbox.value)},className:"form-control form-control-lg mt-3 text-center",placeholder:"Input title to filter...",style:{width:"650px",alignSelf:"center",borderRadius:"3px",height:"47px"}})))),r.a.createElement("div",{className:"row justify-content-center mt-4"},this.printMovieData()))}}]),t}(r.a.Component),V=a(24),F=a(426),Y=a(428),H=a(420),J=a(419),K=a(425),X=a(427),q=a(421),Q=a(422),$=a(423),Z=a(424),ee=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={data:[],modalOpen:!1,genreList:[],showSynopsis:!1,currentSynopsis:null,selectedEdit:0},a.getDataMovies=function(){T.a.get("http://localhost:2000/movies").then(function(e){a.setState({data:e.data})}).catch(function(e){console.log(e)})},a.synopsisPrint=function(e){for(var t=e.split(" "),a=[],n=0;n<5;n++)a.push(t[n]);return a.join(" ")},a.printMovieData=function(){return a.state.data.map(function(e){-1===a.state.genreList.indexOf(e.genre)&&a.state.genreList.push(e.genre)}),console.log(a.state),a.state.data.map(function(e,t){return e.id===a.state.selectedEdit?r.a.createElement(J.a,null,r.a.createElement(H.a,null,t+1),r.a.createElement(H.a,null,r.a.createElement("input",{type:"text",ref:"inputtitle",className:"form-control",defaultValue:e.title})),r.a.createElement(H.a,null,r.a.createElement("input",{type:"text",ref:"inputgenre",className:"form-control",defaultValue:e.genre})),r.a.createElement(H.a,null,r.a.createElement("input",{type:"text",ref:"inputimage",className:"form-control",defaultValue:e.image})),r.a.createElement(H.a,null,r.a.createElement("input",{type:"text",ref:"inputbannerimg",className:"form-control",defaultValue:e.bannerimg})),r.a.createElement(H.a,null,r.a.createElement("input",{type:"text",ref:"inputdirector",className:"form-control",defaultValue:e.director})),r.a.createElement(H.a,null,r.a.createElement("input",{type:"text",ref:"inputpt",className:"form-control",defaultValue:e.playingTime.join(",")})),r.a.createElement(H.a,null,r.a.createElement("input",{type:"text",ref:"inputdur",className:"form-control",defaultValue:e.duration})),r.a.createElement(H.a,null,r.a.createElement("textarea",{className:"form-control",ref:"inputsynopsis",defaultValue:e.synopsis})),r.a.createElement(H.a,null,r.a.createElement("div",null,r.a.createElement("input",{type:"button",value:"save",className:"btn btn-block btn-success btn-sm",onClick:function(){return a.btnSaveEditClick()}}),r.a.createElement("input",{type:"button",value:"cancel",className:"btn btn-block btn-danger btn-sm",onClick:function(){return a.setState({selectedEdit:0})}})))):r.a.createElement(J.a,null,r.a.createElement(H.a,null,t+1),r.a.createElement(H.a,null,e.title),r.a.createElement(H.a,null,e.genre),r.a.createElement(H.a,null,r.a.createElement("img",{src:e.image,height:"50px",alt:""})),r.a.createElement(H.a,null,r.a.createElement("img",{src:e.bannerimg,height:"50px",alt:""})),r.a.createElement(H.a,null,e.director),r.a.createElement(H.a,null,e.playingTime.join(",")),r.a.createElement(H.a,null,e.duration," Minutes"),r.a.createElement(H.a,null,!1===a.state.showSynopsis?r.a.createElement("div",null,a.synopsisPrint(e.synopsis),r.a.createElement("p",{class:"font-weight-bold readmore",onClick:function(){return a.setState({showSynopsis:!0,currentSynopsis:e.id})}},"...Read More")):!0===a.state.showSynopsis&&a.state.currentSynopsis===e.id===!1?r.a.createElement("div",null,a.synopsisPrint(e.synopsis),r.a.createElement("p",{class:"font-weight-bold readmore",onClick:function(){return a.setState({showSynopsis:!0,currentSynopsis:e.id})}},"...Read More")):!0===a.state.showSynopsis&&a.state.currentSynopsis===e.id===!0?r.a.createElement("div",null,a.fullSynopsisPrint()):null),r.a.createElement(H.a,null,r.a.createElement("div",null,r.a.createElement("input",{type:"button",value:"edit",className:"btn btn-block btn-primary btn-sm",onClick:function(){return a.buttonEditClick(e.id)}}),r.a.createElement("input",{type:"button",value:"delete",className:"btn btn-block btn-danger btn-sm",onClick:function(){return a.buttonDeleteClick(e.id,t)}}))))})},a.closeModal=function(){a.setState({modalOpen:!1}),console.log(a.state)},a.fullSynopsisPrint=function(){var e=a.state.currentSynopsis-1;return r.a.createElement("p",null,a.state.data[e].synopsis)},a.validateForm=function(){for(var e=a.refs.inputtitle.value,t=a.refs.inputdirector.value,n=a.refs.inputgenre.value,r=a.refs.inputurl.value,l=[],s=a.refs.inputduration.value,o=a.refs.inputbannerimg.value,c=a.refs.inputvideo.value,i=[9,14,17,20,22],m=1;m<=5;m++)!0===a.refs["radio"+m].refs["radio"+m+"Inner"].checked&&l.push(i[m-1]);var u=a.refs.inputsynopsis.value;if(""===e.replace(/\s/g,"")||""===t.replace(/\s/g,"")||""===n.replace(/\s/g,"")||""===r.replace(/\s/g,"")||0===l.length||""===s.replace(/\s/g,"")||""===u.replace(/\s/g,"")||""===c.replace(/\s/g,""))return document.getElementById("warningbutton").innerHTML="harap mengisi form yang kosong !  ";var d=/(http|https):\/\/(\w+:{0,1}\w*)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/;if(!d.test(r)||!d.test(o))return document.getElementById("warningbutton").innerHTML="url tidak valid!  ";var p={genre:n,title:e,duration:s,synopsis:u,playingTime:l,director:t,image:r,bannerimg:o,video:c,booked:[]};T.a.post("http://localhost:2000/movies",p).then(function(e){window.alert("berhasil add data");var t=a.state.data;t.push(e.data),a.setState({data:t}),a.closeModal()}).catch(function(e){console.log(e)})},a.printGenreList=function(){return a.state.genreList.map(function(e){return r.a.createElement("option",{value:e},e)})},a.buttonEditClick=function(e){a.setState({selectedEdit:e})},a.buttonDeleteClick=function(e,t){window.confirm("Are you sure to delete this data ? ")&&T.a.delete("http://localhost:2000/movies/"+e).then(function(e){alert("Delete Data Success");var n=a.state.data;n.splice(t,1),a.setState({data:n})}).catch(function(e){})},a.btnSaveEditClick=function(){var e=a.refs.inputtitle.value,t=a.refs.inputdirector.value,n=a.refs.inputgenre.value,r=a.refs.inputimage.value,l=a.refs.inputpt.value.split(","),s=a.refs.inputdur.value,o=a.refs.inputsynopsis.value,c=a.refs.inputbannerimg.value,i=a.state.data[a.state.selectedEdit-1].video;if(""===e.replace(/\s/g,"")||""===t.replace(/\s/g,"")||""===n.replace(/\s/g,"")||""===r.replace(/\s/g,"")||0===l.length||""===s.replace(/\s/g,"")||""===o.replace(/\s/g,""))return!1;var m={genre:n,title:e,duration:s,synopsis:o,playingTime:l,director:t,image:r,bannerimg:c,video:i,booked:[]};window.confirm("Apakah anda yakin untuk mengedit data ? ")&&T.a.put("http://localhost:2000/movies/"+a.state.selectedEdit,m).then(function(e){console.log("INI RES DATA ",e.data),a.state.data[a.state.selectedEdit-1]=e.data,window.alert("Data sudah berhasil untuk diedit "),a.setState({data:a.state.data,selectedEdit:0})}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getDataMovies()}},{key:"render",value:function(){var e=this;return!1===this.props.IS_ADMIN?r.a.createElement("h1",{className:"pt-5 text-light"}," You do not have permission to modify movie data"):r.a.createElement("div",{class:"mycontainer"},r.a.createElement(q.a,{fixed:!0},r.a.createElement("h1",{className:"pt-5 filtercss"},r.a.createElement("center",null,"Manage Movie Page")),r.a.createElement("input",{type:"button",value:"Add Data",className:"btn btn-success mb-2 mt-2",onClick:function(){return e.setState({modalOpen:!0})}}),r.a.createElement(x.a,{isOpen:this.state.modalOpen,toggle:this.closeModal},r.a.createElement(j.a,null,"Add Movie"),r.a.createElement(M.a,null,r.a.createElement("input",{type:"text",ref:"inputtitle",className:"form-control mb-2",placeholder:"Title"}),r.a.createElement("input",{type:"text",ref:"inputdirector",className:"form-control mb-2",placeholder:"Director"}),r.a.createElement("select",{required:!0,id:"myList",ref:"inputgenre",className:"form-control mb-2",placeholder:"Genre"},r.a.createElement("option",{value:"",disabled:!0,selected:!0,hidden:!0},"Choose Genre"),this.printGenreList()),r.a.createElement("input",{type:"text",ref:"inputurl",className:"form-control mb-2",placeholder:"Image Url"}),r.a.createElement("div",null,r.a.createElement(Q.a,{check:!0,inline:!0},r.a.createElement($.a,null,"Playing at :")),r.a.createElement(Q.a,{check:!0,inline:!0},r.a.createElement($.a,{check:!0},r.a.createElement(Z.a,{type:"radio",value:"9",ref:"radio1",innerRef:"radio1Inner"}),"09:00")),r.a.createElement(Q.a,{check:!0,inline:!0},r.a.createElement($.a,{check:!0},r.a.createElement(Z.a,{type:"radio",value:"14",ref:"radio2",innerRef:"radio2Inner"}),"14:00")),r.a.createElement(Q.a,{check:!0,inline:!0},r.a.createElement($.a,{check:!0},r.a.createElement(Z.a,{type:"radio",value:"17",ref:"radio3",innerRef:"radio3Inner"}),"17:00")),r.a.createElement(Q.a,{check:!0,inline:!0},r.a.createElement($.a,{check:!0},r.a.createElement(Z.a,{type:"radio",value:"20",ref:"radio4",innerRef:"radio4Inner"}),"20:00")),r.a.createElement(Q.a,{check:!0,inline:!0},r.a.createElement($.a,{check:!0},r.a.createElement(Z.a,{type:"radio",value:"22",ref:"radio5",innerRef:"radio5Inner"}),"22:00"))),r.a.createElement("input",{type:"number",ref:"inputduration",className:"form-control mb-2",placeholder:"Duration"}),r.a.createElement("input",{type:"text",ref:"inputbannerimg",className:"form-control mb-2",placeholder:"Link Banner Image"}),r.a.createElement("input",{type:"text",ref:"inputvideo",className:"form-control mb-2",placeholder:"Video Embed Link"}),r.a.createElement("textarea",{ref:"inputsynopsis",className:"form-control mb-2",placeholder:"Synopsis"}),r.a.createElement("p",{id:"warningbutton",style:{color:"red"}}," ")),r.a.createElement(G.a,null,r.a.createElement("input",{type:"button",value:"SAVE",className:"btn btn-success ",onClick:this.validateForm}),r.a.createElement("input",{type:"button",value:"CANCEL",className:"btn btn-danger",onClick:this.closeModal}))),r.a.createElement(K.a,null,r.a.createElement(F.a,null,r.a.createElement(X.a,null,r.a.createElement(H.a,null,"No"),r.a.createElement(H.a,null,"Title"),r.a.createElement(H.a,null,"Genre"),r.a.createElement(H.a,null,"Image"),r.a.createElement(H.a,null,"Banner Image"),r.a.createElement(H.a,null,"Director"),r.a.createElement(H.a,null,"Playtime"),r.a.createElement(H.a,null,"Duration"),r.a.createElement(H.a,null,"Synopsis"),r.a.createElement(H.a,null,"Action")),r.a.createElement(Y.a,null,this.printMovieData())))))}}]),t}(r.a.Component),te=Object(D.b)(function(e){return{currentUser:e.CURRENT_USER_DATA.currentUser,IS_ADMIN:e.CURRENT_USER_DATA.IS_ADMIN,IS_LOGGED_IN:e.CURRENT_USER_DATA.IS_LOGGED_IN}})(ee),ae=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],login:!0,modalOpen:!1,buyTicket:!1},a.playingTimeRender=function(e){return[e].join(",")},a.onButtonTicketClick=function(){!1===a.props.IS_LOGGED_IN?a.setState({login:!1}):!0===a.props.IS_LOGGED_IN&&a.setState({buyTicket:!0})},a.openModal=function(){a.setState({modalOpen:!0})},a.closeModal=function(){a.setState({modalOpen:!1})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.search.replace("?id=","");T.a.get("http://localhost:2000/movies/"+t).then(function(t){e.setState({data:t.data}),console.log(e.state.data)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return!1===this.state.login?r.a.createElement(V.a,{to:"/pages/loginPage"}):!0===this.state.login&&!0===this.state.buyTicket?r.a.createElement(V.a,{to:{pathname:"/pages/seatReservation",state:{movie:this.state.data.title}}}):r.a.createElement("div",{className:"mycontainer"},r.a.createElement("div",{className:"banner"},r.a.createElement("img",{src:this.state.data.bannerimg,class:"img-fluid",width:"100%",alt:"whatever"}),r.a.createElement("div",{onClick:function(){return e.openModal()},className:"logobanner"},"Preview Trailer   ",r.a.createElement(L.a,{icon:P.b})),r.a.createElement(x.a,{isOpen:this.state.modalOpen,toggle:this.closeModal,size:"lg",style:{maxWidth:"1600px",width:"80%"}},r.a.createElement("iframe",{class:"embed-responsive",width:"1500px",height:"800px",src:this.state.data.video,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}))),r.a.createElement("div",{className:"container mt-5  p-0"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 p-4"},r.a.createElement("img",{class:"img-fluid",src:this.state.data.image,height:"100%",width:"100%",alt:""})),r.a.createElement("div",{className:"col-md-8 p-4"},r.a.createElement("div",{className:"text-light"},r.a.createElement("h1",{className:"mb-3"},this.state.data.title),r.a.createElement("div",{className:"badge badge-pill badge-danger mb-3",style:{fontSize:"20px"}},this.state.data.genre),r.a.createElement("div",{class:"h3 mb-4"},"Director : ",this.state.data.director),r.a.createElement("div",{className:"badge badge-pill badge-secondary mb-3",style:{fontSize:"15px"}},this.state.data.duration," Minutes "),r.a.createElement("p",{className:"mb-4"}," Playing At : ",this.playingTimeRender(this.state.data.playingTime)),r.a.createElement("div",{class:"h3 mb-4",style:{fontWeight:"bolder"}},"Synopsis"),r.a.createElement("p",{className:"mb-4",style:{fontStyle:"italic"}},this.state.data.synopsis))),r.a.createElement("input",{type:"button",className:"form-control btn-success mb-5",style:{fontSize:"20px",fontWeight:"bolder"},value:"BUY TICKET",onClick:function(){return e.onButtonTicketClick()}}))))}}]),t}(r.a.Component),ne=Object(D.b)(function(e){return{currentUser:e.CURRENT_USER_DATA.currentUser,IS_ADMIN:e.CURRENT_USER_DATA.IS_ADMIN,IS_LOGGED_IN:e.CURRENT_USER_DATA.IS_LOGGED_IN}})(ae),re=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={userdata:[],redirect:!1,cart:0,modalOpen:!1,errormsg:""},a.validateUser=function(){var e=a.refs.userIdLog.value,t=a.refs.userPassLog.value;""===e.replace(/\s/g,"")||""===t.replace(/\s/g,"")?a.setState({modalOpen:!0,errormsg:"Semua Form Harus Diisi!"}):T.a.get("http://localhost:2000/users?username="+e+"&password="+t).then(function(t){return 0===t.data.length?(console.log("not valid"),a.setState({modalOpen:!0,errormsg:"Password / Username is not Valid!"})):(a.setState({redirect:!0}),"user"===t.data[0].role?(a.props.logUser(e,t.data[0].saldo),a.props.updateCart(t.data[0].cart.length)):"admin"===t.data[0].role?(a.props.logAdmin(e,t.data[0].saldo),a.props.updateCart(t.data[0].cart.length)):void 0)}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(V.a,{to:"/",push:!0}):!0===this.props.IS_LOGGED_IN?r.a.createElement(V.a,{to:"/"}):r.a.createElement("div",{className:"mycontainer"},r.a.createElement(x.a,{isOpen:this.state.modalOpen,size:"lg",style:{maxWidth:"700px",width:"80%"},toggle:function(){return e.setState({modalOpen:!1})}},r.a.createElement(j.a,null,"Error Message !"),r.a.createElement(M.a,null,r.a.createElement("h1",null,this.state.errormsg))),r.a.createElement("div",{className:"row justify-content-center mt-5"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement(K.a,{className:"p-5 mt-5"},r.a.createElement("h1",{className:"mb-5"},"Log In"),r.a.createElement("input",{type:"text",ref:"userIdLog",className:"form-control form-control-lg mt-3 mb-3",placeholder:"username"}),r.a.createElement("input",{type:"password",ref:"userPassLog",className:"form-control form-control-lg mt-3 mb-5",placeholder:"password"}),r.a.createElement("p",{className:"mb-5",style:{color:"red",fontWeight:"bolder"}}," "),r.a.createElement("input",{type:"button",className:"btn btn-outline-success btn-lg mt-3 mb-5",value:"Submit",onClick:function(){return e.validateUser()}}),r.a.createElement(_.b,{to:"/pages/register"},r.a.createElement("p",{className:"mb-3",style:{textDecoration:"underline",color:"black"}},"Dont Have an Account ? Sign in now "))))))}}]),t}(r.a.Component),le=Object(D.b)(function(e){return{currentUser:e.CURRENT_USER_DATA.currentUser,IS_ADMIN:e.CURRENT_USER_DATA.IS_ADMIN,IS_LOGGED_IN:e.CURRENT_USER_DATA.IS_LOGGED_IN,saldouser:e.CURRENT_USER_DATA.saldo,cartlength:e.CURRENT_USER_DATA.cartlength}},{logUser:U,logAdmin:C,updateCart:w})(re),se=a(162),oe=a.n(se),ce=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={userdata:[],err:"",isLoading:!1},a.getLoginData=function(){T.a.get("http://localhost:2000/users/").then(function(e){a.setState({userdata:e.data})}).catch(function(e){console.log(e)})},a.registerIsValid=function(){var e=a.refs.reguser.value,t=a.refs.regpass.value,n=a.refs.regpass2.value;if(console.log(e,t,n),""===e||""===t||""===n)return a.setState({err:"Please complete the empty field"});if(t!==n)return a.setState({err:"Your password and confirm password does not match"});a.setState({isLoading:!0}),T.a.get("http://localhost:2000/users?username="+e).then(function(e){console.log("MasukAxios1"),e.data.length>0&&a.setState({err:"Username is already being used",isLoading:!1})}).catch(function(e){console.log(e,"Masuk")});var r={role:"user",username:e,password:t,transaction:[],saldo:0,cart:[]};T.a.post("http://localhost:2000/users",r).then(function(t){window.alert("Your account has been registered successfully"),a.props.logUser(e,r.saldo),a.setState({redirect:!0,isLoading:!1})}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getLoginData()}},{key:"render",value:function(){var e=this;return!0===this.props.IS_LOGGED_IN?r.a.createElement(V.a,{to:"/"}):r.a.createElement("div",{className:"mycontainer"},r.a.createElement("div",{className:"row justify-content-center mt-5"},r.a.createElement("div",{className:" mt-5 col-md-8"},r.a.createElement(K.a,{className:"p-5"},r.a.createElement("h1",{className:"mb-5"},"Register Form"),r.a.createElement("input",{type:"text",ref:"reguser",className:"form-control form-control-lg mt-3",placeholder:"your username"}),r.a.createElement("input",{type:"password",ref:"regpass",className:"form-control form-control-lg mt-3",placeholder:"your password"}),r.a.createElement("input",{type:"password",ref:"regpass2",className:"form-control  form-control-lg mt-3 mb-3 ",placeholder:"confirm password"}),r.a.createElement("p",{className:"mb-3",style:{color:"red",fontWeight:"bolder"}}," "),""===this.state.err?r.a.createElement("p",null):""!==this.state.err?r.a.createElement("div",{className:"alert alert-danger"}," ",this.state.err," ",r.a.createElement("span",{style:{fontWeight:"bolder",cursor:"pointer",float:"right"},onClick:function(){e.setState({err:""})}}," X")):null,!0===this.state.isLoading?r.a.createElement(oe.a,{type:"ThreeDots",color:"black",width:"55px"}):!1===this.state.isLoading?r.a.createElement("input",{type:"button",className:"btn btn-outline-success btn-lg mt-3",value:"Register",onClick:function(){return e.registerIsValid()}}):null))))}}]),t}(r.a.Component),ie=Object(D.b)(function(e){return{currentUser:e.CURRENT_USER_DATA.currentUser,IS_ADMIN:e.CURRENT_USER_DATA.IS_ADMIN,IS_LOGGED_IN:e.CURRENT_USER_DATA.IS_LOGGED_IN}},{logUser:U})(ce),me=a(53),ue=(a(226),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"mycontainer mt-5"},r.a.createElement("div",{id:"notfound"},r.a.createElement("div",{class:"notfound"},r.a.createElement("div",{class:"notfound-bg"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)),r.a.createElement("h1",null,"oops!"),r.a.createElement("h2",null,"Error 404 : Page Not Found"),r.a.createElement(_.b,{className:"btn btn-sucess",to:"/"},"Go Back"),r.a.createElement("div",{class:"notfound-social"},r.a.createElement("a",{href:"#"},r.a.createElement("i",{class:"fa fa-facebook"})),r.a.createElement("a",{href:"#"},r.a.createElement("i",{class:"fa fa-twitter"})),r.a.createElement("a",{href:"#"},r.a.createElement("i",{class:"fa fa-pinterest"})),r.a.createElement("a",{href:"#"},r.a.createElement("i",{class:"fa fa-google-plus"}))))))}}]),t}(r.a.Component)),de=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={seats:[],seatReserved:[],seatAvailable:[],currentMovie:"",seatBooked:[],price:35e3,finishUpdate:!1,currentDate:""},a.componentDidMount=function(){if(void 0!==a.props.location.state){var e=a.props.location.state.movie;T.a.get("http://localhost:2000/movies?title="+e).then(function(e){var t=e.data[0].booked,n=e.data[0].title,r=new Date,l=r.getDate()+"/"+(r.getMonth()+1)+"/"+r.getFullYear();a.setState({seatBooked:t,currentMovie:n,currentDate:l}),console.log(a.state.currentDate)}).catch(function(e){console.log(e)});for(var t=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],n=0;n<"ABCDEFGHIJ".length;n++)for(var r=0;r<t.length;r++){var l="ABCDEFGHIJ"[n]+t[r];a.state.seats.push(l),-1!==a.state.seatReserved.indexOf(l)||-1!==a.state.seatBooked.indexOf(l)||a.state.seatAvailable.push(l)}}},a.onClickSeat=function(e){-1!==a.state.seatReserved.indexOf(e)?a.setState({seatAvailable:a.state.seatAvailable.concat(e),seatReserved:a.state.seatReserved.filter(function(t){return t!==e})}):a.setState({seatReserved:a.state.seatReserved.concat(e),seatAvailable:a.state.seatAvailable.filter(function(t){return t!==e})})},a.renderSeat=function(e){return-1===a.state.seatBooked.indexOf(e)?r.a.createElement(L.a,{size:"2x",value:e,className:-1!==a.state.seatReserved.indexOf(e)?"seatreserved":"seatavailable",icon:P.a,onClick:function(){return a.onClickSeat(e)}}):r.a.createElement(L.a,{className:"Booked",size:"2x",value:e,icon:P.a})},a.printSeatReservation=function(){return"ABCDEFGHIJ".split("").map(function(e){return r.a.createElement("div",{className:"row justify-content-center filtercss"},r.a.createElement("div",{className:"row-md-1 d-inline filtercss"},e),r.a.createElement("div",{className:"row-md-3 d-inline ml-5"},a.renderSeat(e+"1"),a.renderSeat(e+"2"),a.renderSeat(e+"3"),a.renderSeat(e+"4")),r.a.createElement("div",{className:"row-md-5 d-inline mr-5 ml-5"},a.renderSeat(e+"5"),a.renderSeat(e+"6"),a.renderSeat(e+"7"),a.renderSeat(e+"8"),a.renderSeat(e+"9"),a.renderSeat(e+"10"),a.renderSeat(e+"11"),a.renderSeat(e+"12"),a.renderSeat(e+"13"),a.renderSeat(e+"14")),r.a.createElement("div",{className:"row-md-3 d-inline mr-5"},a.renderSeat(e+"15"),a.renderSeat(e+"16"),a.renderSeat(e+"17"),a.renderSeat(e+"18")))})},a.printProceed=function(){return 0===a.state.seatReserved.length?r.a.createElement("input",{type:"button",className:"form-control btn-secondary filtercss mb-5",value:"Buy Ticket Before Proceed",disabled:!0}):r.a.createElement("input",{type:"button",className:"form-control btn-danger filtercss mb-5",value:"Add to Cart",onClick:function(){return a.addToCart()}})},a.addToCart=function(){T.a.get("http://localhost:2000/users?username="+a.props.currentUser).then(function(e){var t=!1,n=e.data[0].cart,r={date:a.state.currentDate,movtitle:a.state.currentMovie,seat:a.state.seatReserved,totalprice:a.state.price*a.state.seatReserved.length};e.data[0].cart.map(function(e,a){r.movtitle===e.movtitle&&(n[a].totalprice=n[a].totalprice+r.totalprice,n[a].seat=[].concat(Object(me.a)(n[a].seat),Object(me.a)(r.seat)),t=!0)}),!1===t&&n.push(r),a.props.updateCart(n.length),T.a.patch("http://localhost:2000/users/"+e.data[0].id,{cart:n}).then(function(e){a.setState({finishUpdate:!0}),T.a.get("http://localhost:2000/movies?title="+a.state.currentMovie).then(function(e){var t=e.data[0].booked;t=[].concat(Object(me.a)(e.data[0].booked),Object(me.a)(a.state.seatReserved)),T.a.patch("http://localhost:2000/movies/"+e.data[0].id,{booked:t}).then(function(e){console.log("Berhasil Seat ")})}).catch(function(e){})})}).catch(function(e){})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return!0===this.state.finishUpdate?r.a.createElement(V.a,{to:{pathname:"/pages/transaction",state:{seatnumber:this.state.seatReserved,moviename:this.state.currentMovie}}}):(console.log(this.props.location.state),void 0===this.props.location.state?r.a.createElement(ue,null):r.a.createElement("div",{className:"mycontainer"},r.a.createElement("div",{className:"container mt-5 pb-5"},r.a.createElement("div",{className:"filtercss mb-5 badge badge-sm badge-danger text-center"},this.state.currentMovie),r.a.createElement("div",{className:"col mb-5"},r.a.createElement("div",{className:"filtercss row-md-4 text-center mb-5",style:{fontSize:"40px"}},"Available Seats"),this.printSeatReservation()),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"mb-3 filtercss text-center",style:{backgroundColor:"grey",width:"250px",height:"30px"}}," Screen ")),r.a.createElement("div",{className:"d-flex row justify-content-center filtercss mb-4"}," ",r.a.createElement(L.a,{className:"Booked",size:"2x",icon:P.a}),"\xa0\xa0 = BOOKED \xa0\xa0\xa0\xa0",r.a.createElement(L.a,{className:"seatreserved",size:"2x",icon:P.a}),"\xa0\xa0 = RESERVED\xa0\xa0\xa0\xa0  ",r.a.createElement(L.a,{className:"seatavailable",size:"2x",icon:P.a}),"\xa0\xa0 = AVAILABLE\xa0\xa0"),this.printProceed(),r.a.createElement("div",{className:"d-flex row justify-content-center"},r.a.createElement("div",{className:"justify-content-left filtercss mr-5 "},"Total Price \xa0\xa0",r.a.createElement("input",{type:"text",className:"form-control mb-3",style:{width:"230px",fontWeight:"bolder",fontSize:"23px"},value:"Rp. "+R()(35e3*this.state.seatReserved.length).format(0,0),readOnly:!0})),r.a.createElement("div",{className:"justify-content-left filtercss mr-5 "},"Number of Tickets  \xa0\xa0",r.a.createElement("input",{type:"text",className:"form-control",style:{width:"250px",fontWeight:"bolder",fontSize:"23px"},value:this.state.seatReserved.length+"  Tickets",readOnly:!0})),r.a.createElement("div",{className:"justify-content-left filtercss mr-5 "},"Seats Taken  \xa0\xa0",r.a.createElement("input",{type:"text",className:"form-control",style:{width:"350px",fontWeight:"bolder",fontSize:"23px"},value:this.state.seatReserved.join(","),readOnly:!0}))))))}}]),t}(r.a.Component),pe=Object(D.b)(function(e){return{currentUser:e.CURRENT_USER_DATA.currentUser,IS_ADMIN:e.CURRENT_USER_DATA.IS_ADMIN,IS_LOGGED_IN:e.CURRENT_USER_DATA.IS_LOGGED_IN,saldouser:e.CURRENT_USER_DATA.saldo}},{updateCart:w})(de),Ee=a(429),he=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={seat:[],moviename:[],price:35e3,redirect:!1,cart:[]},a.printCart=function(){return a.state.cart.map(function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.movtitle),r.a.createElement("td",null,e.seat.join(",  ")+"  (Total "+e.seat.length+"  Ticket)"),r.a.createElement("td",null,"Rp "+R()(e.totalprice).format(0,0)),r.a.createElement("td",null,r.a.createElement("input",{type:"button",value:"CANCEL",className:"btn  btn-danger btn-sm filtercss",onClick:function(){return a.buttonDeleteClick(t)}})))})},a.buttonDeleteClick=function(e){window.confirm("Yakin untuk mendelete data di cart ?")&&T.a.get("http://localhost:2000/movies?title="+a.state.cart[e].movtitle).then(function(t){console.log("Berhasil get movie"),console.log(t.data);for(var n=t.data[0].booked,r=0;r<a.state.cart[e].seat.length;r++)if(-1!==n.indexOf(a.state.cart[e].seat[r])){var l=n.indexOf(a.state.cart[e].seat[r]);n.splice(l,1)}console.log(n),T.a.patch("http://localhost:2000/movies/"+t.data[0].id,{booked:n}).then(function(t){var n=a.state.cart;n.splice(e,1),a.setState({cart:n}),T.a.get("http://localhost:2000/users?username="+a.props.currentUser).then(function(e){var t=a.state.cart;T.a.patch("http://localhost:2000/users/"+e.data[0].id,{cart:t}).then(function(e){a.props.updateCart(e.data.cart.length),window.alert("Berhasil Update Cart User")})}).catch(function(e){console.log(e)})})}).catch(function(e){})},a.mapTotal=function(){var e=0;return a.state.cart.map(function(t){e+=t.totalprice}),e},a.onCheckOut=function(){if(a.props.saldouser<a.mapTotal())return window.alert("Saldo Belum Mencukupi, Top Up Terlebih Dahulu");T.a.get("http://localhost:2000/users?username="+a.props.currentUser).then(function(e){var t=a.state.cart,n=e.data[0].transaction;n.push(t),T.a.patch("http://localhost:2000/users/"+e.data[0].id,{transaction:n}).then(function(t){var n=a.props.saldouser-a.mapTotal();a.props.Transaksi(-a.mapTotal()),T.a.patch("http://localhost:2000/users/"+e.data[0].id,{cart:[],saldo:n}).then(function(e){a.props.updateCart(e.data.cart.length),localStorage.removeItem("cartuser"),window.alert("Checkout Berhasil"),a.setState({redirect:!0})})})}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;T.a.get("http://localhost:2000/users?username="+this.props.currentUser).then(function(t){console.log(t.data[0]),e.setState({cart:t.data[0].cart}),e.props.updateCart(t.data[0].cart.length),console.log(e.state.cart)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return!0===this.state.redirect?r.a.createElement(V.a,{to:"/"}):!1===this.props.IS_LOGGED_IN?r.a.createElement(V.a,{to:"/pages/loginPage"}):r.a.createElement("div",{className:"mycontainer"},r.a.createElement("div",{className:"text-center filtercss mt-5"}," YOUR CART"),r.a.createElement(Ee.a,{dark:!0,className:"mt-1"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"filtercss"},r.a.createElement("td",null,"No"),r.a.createElement("td",null,"Movie Name"),r.a.createElement("td",null,"Seat Number"),r.a.createElement("td",null,"Price"),r.a.createElement("td",null,"Actions"))),r.a.createElement("tbody",null,this.printCart(),0!==this.state.cart.length?r.a.createElement("tr",{className:"filtercss text-success"},r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null,"Total Price : "),r.a.createElement("td",null,"Rp "+R()(this.mapTotal()).format(0,0))):null),r.a.createElement("tfoot",null)),0===this.state.cart.length?r.a.createElement("div",{className:"alert alert-secondary text-center"}," YOUR CART IS STILL EMPTY ",r.a.createElement("span",{style:{fontWeight:"bolder"}}," ")):null,0!==this.state.cart.length?r.a.createElement("div",null,r.a.createElement(_.b,{to:"/"},r.a.createElement("input",{type:"button",className:"form-control btn-lg btn filtercss mt-3",value:"BUY MORE TICKET",style:{backgroundColor:"#c02c3a"}})),r.a.createElement("input",{type:"button",className:"form-control btn-lg btn btn-success filtercss mt-3",value:"CHECKOUT",onClick:function(){return e.onCheckOut()}})):r.a.createElement("input",{type:"text",className:"form-control btn-lg  btn-secondary filtercss mt-3 text-center",value:"Shop First before Checkout!"}))}}]),t}(r.a.Component),fe=Object(D.b)(function(e){return{currentUser:e.CURRENT_USER_DATA.currentUser,IS_ADMIN:e.CURRENT_USER_DATA.IS_ADMIN,IS_LOGGED_IN:e.CURRENT_USER_DATA.IS_LOGGED_IN,saldouser:e.CURRENT_USER_DATA.saldo,cartlength:e.CURRENT_USER_DATA.cartlength}},{Transaksi:k,updateCart:w})(he),ge=(a(227),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={userdata:[],movielist:[],err:"",modalOpen:!1,currentIndex:0,Loading:!0},a.printTotal=function(e){for(var t=0,a=0;a<e.length;a++)t+=e[a].totalprice;return t},a.printDetail=function(e){a.setState({modalOpen:!0,currentIndex:e})},a.printhistory=function(){if(console.log(a.state.userdata),0!==a.state.userdata.length)return a.state.userdata.map(function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,t+1),r.a.createElement("td",null,a.state.userdata[t][0].date),r.a.createElement("td",null,a.state.userdata[t].length),r.a.createElement("td",null,"Rp. "+R()(a.printTotal(a.state.userdata[t])).format(0,0)),r.a.createElement("td",null,r.a.createElement("input",{type:"button",value:"detail",className:"btn btn-md btn-info",onClick:function(){return a.printDetail(t)}})))})},a.mapTotal=function(){var e=0;return a.state.userdata.map(function(t,n){a.state.userdata[n].map(function(t){e+=t.totalprice})}),e},a.printModal=function(e){if(!1===a.state.Loading&&0!==a.state.userdata.length)return console.log(a.state.userdata),a.state.userdata[e].map(function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.movtitle),r.a.createElement("td",null,e.seat.join(", ")+" (Total "+e.seat.length+" Ticket)"),r.a.createElement("td",null,"Rp. "+R()(e.totalprice).format(0,0)))})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;T.a.get("http://localhost:2000/users?username="+this.props.currentUser).then(function(t){var a=t.data[0].transaction;e.setState({userdata:a}),0===e.state.userdata.length&&e.setState({err:"You have no transaction yet !"}),console.log(e.state.userdata),e.setState({Loading:!1})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return!1===this.props.IS_LOGGED_IN?r.a.createElement("div",{className:"filtercss text-center pt-5"}," Hanya User yang sudah Login yang dapat mengakses "):r.a.createElement("div",null,r.a.createElement(x.a,{isOpen:this.state.modalOpen,size:"lg",style:{maxWidth:"1200px",width:"80%"},toggle:function(){return e.setState({modalOpen:!1})}},r.a.createElement(j.a,null,"YOUR TRANSACTION DETAILS"),r.a.createElement(M.a,null,r.a.createElement(Ee.a,{light:!0,className:"mt-3"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"font-weight-bolder"},r.a.createElement("td",null,"No"),r.a.createElement("td",null,"Title"),r.a.createElement("td",null,"Qty"),r.a.createElement("td",null,"Subtotal"))),r.a.createElement("tbody",null,this.printModal(this.state.currentIndex))),r.a.createElement("p",{id:"warningbutton",style:{color:"red"}}," "))),r.a.createElement("div",{className:"mycontainer"},r.a.createElement("h1",{className:"text-light text-center mt-5"}," Your Transaction History"),r.a.createElement(Ee.a,{dark:!0,className:"mt-3"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"filtercss"},r.a.createElement("td",null,"No"),r.a.createElement("td",null,"Date"),r.a.createElement("td",null,"Total Items (Movie)"),r.a.createElement("td",null,"Total Price"),r.a.createElement("td",null,"Detail"))),r.a.createElement("tbody",null,this.printhistory(),r.a.createElement("tr",{className:"filtercss text-success"},r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null,"Total Money Spent : "),r.a.createElement("td",null,"Rp "+R()(this.mapTotal()).format(0,0)),r.a.createElement("td",null)))),""===this.state.err?r.a.createElement("p",null):""!==this.state.err?r.a.createElement("div",{className:"alert alert-black filtercss text-center"}," ",this.state.err," ",r.a.createElement("span",{style:{fontWeight:"bolder",cursor:"pointer",float:"right",height:"150px"}})):null),")")}}]),t}(r.a.Component)),be=Object(D.b)(function(e){return{currentUser:e.CURRENT_USER_DATA.currentUser,IS_ADMIN:e.CURRENT_USER_DATA.IS_ADMIN,IS_LOGGED_IN:e.CURRENT_USER_DATA.IS_LOGGED_IN}})(ge),ve=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={errormsg:"",redirect:!1},a.changePassword=function(){var e=a.refs.oldpass.value;console.log(e);var t=a.refs.newpass.value,n=a.refs.newpass2.value;if(t!==n)return a.setState({errormsg:"Password dan Password Konfirmasi Salah!"});T.a.get("http://localhost:2000/users?username="+a.props.currentUser).then(function(n){if(console.log(n.data[0].password),n.data[0].password!==e)return a.setState({errormsg:"Password Lama Salah!"});T.a.patch("http://localhost:2000/users/"+n.data[0].id,{password:t}).then(function(e){a.setState({redirect:!0}),window.alert("Password Telah Berhasil Diubah")})}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return!0===this.state.redirect?r.a.createElement(V.a,{to:"/"}):!1===this.props.IS_LOGGED_IN?r.a.createElement("div",{className:"pt-5 filtercss"}," Login First before change the password"):r.a.createElement("div",{className:"mycontainer"},r.a.createElement("div",{className:"row justify-content-center mt-5"},r.a.createElement("div",{className:" mt-5 col-md-8"},r.a.createElement(K.a,{className:"p-5"},r.a.createElement("h1",{className:"mb-5"},"Change Password"),r.a.createElement("input",{type:"password",ref:"oldpass",className:"form-control form-control-lg mt-3",placeholder:"CURRENT PASSWORD"}),r.a.createElement("input",{type:"password",ref:"newpass",className:"form-control form-control-lg mt-3",placeholder:"NEW PASSWORD"}),r.a.createElement("input",{type:"password",ref:"newpass2",className:"form-control  form-control-lg mt-3 mb-3 ",placeholder:"CONFIRM NEW PASSWORD"}),r.a.createElement("p",{className:"mb-3",style:{color:"red",fontWeight:"bolder"}}," "),r.a.createElement("input",{type:"button",className:"btn btn-success btn-lg mt-3 mb-5",value:"Change Password",onClick:function(){return e.changePassword()}}),""===this.state.errormsg?r.a.createElement("p",null):""!==this.state.errormsg?r.a.createElement("div",{style:{height:"70px"},className:"alert alert-danger"}," ",this.state.errormsg," ",r.a.createElement("span",{style:{fontWeight:"bolder",cursor:"pointer",float:"right"},onClick:function(){e.setState({errormsg:""})}}," X")):null))))}}]),t}(r.a.Component),Ne=Object(D.b)(function(e){return{currentUser:e.CURRENT_USER_DATA.currentUser,IS_ADMIN:e.CURRENT_USER_DATA.IS_ADMIN,IS_LOGGED_IN:e.CURRENT_USER_DATA.IS_LOGGED_IN,saldouser:e.CURRENT_USER_DATA.saldo,cartlength:e.CURRENT_USER_DATA.cartlength}})(ve),ye=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("cartuser");console.log("cartlen ",t);var a=localStorage.getItem("username");null!==a&&T.a.get("http://localhost:2000/users?username="+a).then(function(a){"user"===a.data[0].role?(e.props.logUser(a.data[0].username,a.data[0].saldo),e.props.updateCart(t)):"admin"===a.data[0].role&&(e.props.logAdmin(a.data[0].username,a.data[0].saldo),e.props.updateCart(t))}).catch(function(e){})}},{key:"render",value:function(){return""===this.props.currentUser&&null!=localStorage.getItem("username")?r.a.createElement("p",null," Loading ... "):r.a.createElement("div",null,r.a.createElement(W,null),r.a.createElement(V.d,null,r.a.createElement(V.b,{path:"/",exact:!0,component:z}),r.a.createElement(V.b,{path:"/manage",component:te}),r.a.createElement(V.b,{path:"/moviedetail",component:ne}),r.a.createElement(V.b,{path:"/pages/loginPage",component:le}),r.a.createElement(V.b,{path:"/pages/register",component:ie}),r.a.createElement(V.b,{path:"/pages/seatReservation",component:pe}),r.a.createElement(V.b,{path:"/pages/transaction",component:fe}),r.a.createElement(V.b,{path:"/history",component:be}),r.a.createElement(V.b,{path:"/usersetting",component:Ne}),r.a.createElement(V.b,{path:"*",component:ue})))}}]),t}(r.a.Component),Se=Object(D.b)(function(e){return{currentUser:e.CURRENT_USER_DATA.currentUser,IS_ADMIN:e.CURRENT_USER_DATA.IS_ADMIN,IS_LOGGED_IN:e.CURRENT_USER_DATA.IS_LOGGED_IN}},{logUser:U,logAdmin:C,updateCart:w})(ye),Ie=a(20),Oe={currentUser:"",IS_LOGGED_IN:!1,IS_ADMIN:!1,saldo:0,cartlength:0},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;if("USER"===t.type){var a=t.payload.username,n=t.payload.saldo;return localStorage.setItem("username",a),Object(Ie.a)({},e,{IS_LOGGED_IN:!0,IS_ADMIN:!1,currentUser:a,saldo:n})}if("ADMIN"===t.type)return a=t.payload.username,n=t.payload.saldo,localStorage.setItem("username",a),Object(Ie.a)({},e,{IS_LOGGED_IN:!0,IS_ADMIN:!0,currentUser:a,saldo:n});if("LOGOUT"===t.type)return localStorage.removeItem("username"),localStorage.setItem("cartuser",0),Oe;if("TRANSAKSI"===t.type){var r=t.payload;return Object(Ie.a)({},e,{saldo:e.saldo+r})}return"UPDATE"===t.type?(localStorage.setItem("cartuser",t.payload),Object(Ie.a)({},e,{cartlength:t.payload})):e},_e=a(56),De=Object(_e.b)({CURRENT_USER_DATA:Re}),Ae=Object(_e.c)(De);s.a.render(r.a.createElement(D.a,{store:Ae},r.a.createElement(_.a,null,r.a.createElement(Se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[164,1,2]]]);
//# sourceMappingURL=main.c8025fbf.chunk.js.map